
// NOTE READY, just parser test.

import add

typedef Alias = forall t.( ( rw t (Held#[]) => rw t (Released#int) ) 
	(+) ( rw t (Released#int) => none ) )

open <t,x> = new Held#{} in
	share t as (Alias[t]) || (Alias[t]);
	// TOO: ADD SOMETHING THAT CONSUMES ONE ALIAS
	focus t;
	case !x of
		Held#n ->
			x := Released#42;
			defocus // returns unit
	| Released#n ->
			defocus;
			x := (add n 1);
			// ...
			delete x
	end
end
