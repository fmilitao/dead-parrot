//OK Function Value
//FAIL Fix-point reached after 2 unfolds

// MOVE TO TEST CASE

// this should work
// also folds when result is given, note that result can only
// appear if the function has a label (for recursive)
fun Test( x : rec A.( L#(rec B.L#B + Q#int) + Q#int )):rec A.(L#A + Q#int) .x

;

// this should work
fun A( x : int , y : boolean ) : !!int .x

;

// this should work
fun Test( x : rec A.A ):(rec A.rec B.A).x

;

// this should fail gracefully
fun( y : !(rec A.rec B.A) ).
	case y of
		asd#n -> 0
	end

